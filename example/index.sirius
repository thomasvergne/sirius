use std.prelude;

fn f(): Reference[Int] = {
  let test: Reference[Int] = ref_malloc(12);
  *test.value = 1;
  test
}

fn g(test: Reference[Int]): Reference[Int] = {
  *test.value = 2;
  test
}

fn main(): Int = {
  let x: Reference[Int] = f();
  let y: Reference[Int] = g(x);

  print(x);

  0
}